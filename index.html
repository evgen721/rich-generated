<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <title>Конструктор RICH-контента</title>
</head>
<body>
    <!-- Шторка с табами -->
    <div id="top-bar">
        <div class="tab" data-tab="constructor">Конструктор</div>
        <div class="tab" data-tab="preview-web">Предпросмотр веб</div>
        <div class="tab" data-tab="preview-mob">Предпросмотр моб</div>
    </div>

    <!-- Контейнер для основного контента -->
    <div id="content-container">
        <!-- Конструктор -->
        <div id="constructor-content" class="content active">
            <h3>Конструктор блоков RICH-контента для описаний товаров</h3>
            <div id="blocks-container"></div>
            <button id="add-block-btn">+ Добавить блок</button>
            <button id="generate-btn">Сформировать</button>
            <button id="copy-btn">Скопировать описание</button>
            <div class="rer">Описание HTML</div>
            <div id="generated-description"></div>
        </div>

        <!-- Предпросмотр веб -->
		
        <div id="preview-web-content" class="content">
           <iframe id="preview-iframe" src="about:blank" sandbox="allow-scripts allow-same-origin" csp="default-src 'self'; img-src *;"></iframe>
        </div>

        <!-- Предпросмотр моб (пока пустой) -->
        <div id="preview-mob-content" class="content">
             <iframe id="preview-mob-iframe" src="about:blank" sandbox="allow-scripts allow-same-origin" csp="default-src 'self'; img-src *;"></iframe>
        </div>
    </div>

    <!-- Модальные окна и другие элементы -->
    <div class="overlay" id="overlay"></div>
    <div class="modal" id="modal">
        <h3>Выберите тип блока</h3>
        <select id="block-type">
            <option value="text">Текст</option>
            <option value="row-gallery">Картинки в ряд</option>
            <option value="column-gallery">Картинка и текст слева/справа</option>
            <option value="single-media">Картинка (+во всю ширину)</option>
        </select>
        <div id="block-preview">
            <img id="preview-image" src="" alt="Пример блока" style="display: none;">
        </div>
        <button id="confirm-block-type">Выбрать</button>
    </div>

    <div class="image-preview-overlay" id="image-preview-overlay"></div>
    <div class="image-preview-modal" id="image-preview-modal">
        <div id="image-info" style="margin-bottom: 10px; font-weight: bold;"></div>
        <img id="previewed-image" src="" alt="Просмотр изображения">
        <button id="closemodal">Закрыть</button>
    </div>

    <script src="content.js"></script>
</body>
</html>