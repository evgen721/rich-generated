<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <title>Конструктор RICH-контента</title>
</head>
<body>
    <!-- Основной топ-бар -->
    <div id="top-bar">
    <div class="tab" data-tab="constructor">
        <img src="icon/8.png" alt="Конструктор" class="tab-icon">
        <span class="tab-name">Конструктор</span>
    </div>
    <div class="tab-separator"></div>
    <div class="tab" data-tab="preview-web">
        <img src="icon/6.png" alt="Предпросмотр веб" class="tab-icon">
        <span class="tab-name">Предпросмотр desktop</span>
    </div>
    <div class="tab-separator"></div>
    <div class="tab" data-tab="preview-mob">
        <img src="icon/7.png" alt="Предпросмотр моб" class="tab-icon">
        <span class="tab-name">Предпросмотр mobile</span>
    </div>
</div>

    <!-- Второй топ-бар -->
    <div id="second-top-bar">
    <button id="add-block-btn">+ Добавить блок</button>
    <button id="generate-btn">Сформировать описание</button>
    <button id="copy-btn">Скопировать текст описания HTML</button>
	<button id="import-btn">Импортировать описание</button>
	<div class="title-top-bar">Конструктор блоков RICH-контента для описаний товаров</div>
	
</div>

    <!-- Контейнер для основного контента -->
    <div id="content-container">
        <!-- Конструктор -->
        <div id="constructor-content" class="content active">
            <div id="blocks-container"></div>
            <div class="h3-generated-description">Описание HTML</div>
            <div id="generated-description"></div>
        </div>

        <!-- Предпросмотр веб -->
        <div id="preview-web-content" class="content">
            <iframe id="preview-iframe" src="about:blank" sandbox="allow-scripts allow-same-origin" csp="default-src 'self'; img-src *; style-src 'self' 'unsafe-inline';"></iframe>
        </div>

        <!-- Предпросмотр моб -->
        <div id="preview-mob-content" class="content">
            <iframe id="preview-mob-iframe" src="about:blank" sandbox="allow-scripts allow-same-origin" csp="default-src 'self'; img-src *; style-src 'self' 'unsafe-inline';"></iframe>
        </div>
    </div>

    <!-- Модальные окна -->
	
	<!-- Модалка выбор типа блока -->
    <div class="overlay" id="overlay"></div>
    <div class="modal" id="modal">
        <h3>Выберите тип блока</h3>
        <select id="block-type">
            <option value="text">Текст</option>
            <option value="row-gallery">Картинки в ряд</option>
            <option value="column-gallery">Картинка и текст слева/справа</option>
            <option value="single-media">Картинка (+во всю ширину) или видео</option>
        </select>
        <div id="block-preview">
            <img id="preview-image" src="" alt="Пример блока" style="display: none;">
        </div>
        <button class="button-all" id="confirm-block-type">Выбрать</button>
		    <div class="image-block-controls">
                <button class="delete-btn" id="closemodal-block-type">✕</button>
			</div>
    </div>
	
	<!-- Модалка превью изображения -->
    <div class="overlay" id="image-preview-overlay"></div>
    <div class="modal" id="image-preview-modal">
        <div id="image-info" style="margin-bottom: 10px; font-weight: bold;"></div>
            <img id="previewed-image" src="" alt="Просмотр изображения">
            <div class="image-block-controls">
		        <button class="delete-btn" id="closemodal">✕</button>
		    </div>
    </div>
	
	<!-- Модалка импрота -->
    <div class="overlay" id="import-overlay"></div>
        <div class="modal" id="import-modal">
            <h3>Импорт готового описания</h3>
			<p>Вставьте в данную форму ранее сгенерированное описание из 1С, и оно автоматически разделится на визуальные блоки, для удобной возможности дальнейшего редактирования.</p>
            <textarea id="import-textarea"></textarea>
		        <div class="image-block-controls">
                <button class="delete-btn" id="closemodal-import">✕</button>
			    </div>
            <button class="button-all" id="confirm-import">Импортировать</button>
        </div>
    

	<!-- Модалка иформации -->	
    <div class="overlay" id="block-info-overlay"></div>
    <div class="block-info-modal" id="block-info-modal">
        <div id="block-info-content" style="margin-bottom: 10px;"></div>
        <div class="image-block-controls">
            <button class="delete-btn" id="close-block-info-modal">✕</button>
        </div>
    </div>	

    <script src="content.js"></script>
	<script src="block-info-texts.js"></script>
</body>
</html>